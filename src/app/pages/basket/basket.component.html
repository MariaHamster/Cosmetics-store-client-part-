<div>
  <div>
    <h4 class="text-center text-header">Корзина</h4>
  </div>
  <div class="d-flex content-container">
    <div class="products">
<!--      <ng-template #basketWrap>-->
<!--        В корзине пусто-->
<!--      </ng-template>--> 
      <div>
        <div *ngIf="fullBasket"
             #basketWrap
             class="basket-wrap d-flex flex-column">
          <div class="product-item d-flex align-items-center justify-content-between mt-2 mb-2 p-2"
               *ngFor="let item of fullBasket; let i = index">
            <fa-icon class="icon"
                     (click)="removeProductItem(item)"
                     [icon]="removeIcon"
                     size="2x"></fa-icon>
            <div class="d-flex align-items-center img-name-container">
              <div class="product-img">
                <img *ngIf="item.img"
                     (click)="goToProductInfoPage(item)"
                     src="http://localhost:3000/public/{{item.img}}"
                     alt=""/>
              </div>
              <div class="product-name ps-2"
                   (click)="goToProductInfoPage(item)">{{item.name}}</div>
            </div>

            <div class="d-flex justify-content-around align-items-center price-quantity-container">
              <div class="product-price text-center p-2">{{item.price}} руб.</div>
              <p-inputNumber class="product-quantity justify-content-center"
                             [(ngModel)]="item.quantity"
                             (click)="changeQuantity(item)"
                             [showButtons]="true"
                             buttonLayout="horizontal"
                             inputId="horizontal"
                             spinnerMode="horizontal"
                             [step]="1"
                             incrementButtonIcon="pi pi-plus"
                             decrementButtonIcon="pi pi-minus"
                             inputId="minmax-buttons"
                             [min]="1"
                             ></p-inputNumber>
            </div>

          </div>
        </div>
      </div>

      <div class="additionalInfo">{{additionalInfo}}</div>

    </div>

    <div class="order">
      <button class="btn-order btn btn-default"
              type="submit"
              (click)="addOrder()"
              (click)="showDialog()"
              [disabled]="basket.length == 0">Оформить заказ</button>
      <div class="d-flex justify-content-between total-price mt-3">
        <div>Общая стоимость: </div>
        <div>{{totalPriceValue}} руб.</div>
      </div>
      <div class="optional-info">
        * Для совершения покупки необходимо пройти авторизацию.
      </div>
    </div>


    
    <p-dialog header="Заказ успешно сделан" [(visible)]="visible" [modal]="true" [style]="{ width: '50vw' }" [draggable]="false" [resizable]="false">
      <p class="m-0"> 
        Спасибо за Ваш заказ!
      </p>
    </p-dialog>



  </div>

</div>

<!-- <p-button (click)="showDialog()" icon="pi pi-external-link" label="Show"></p-button> -->

<p-toast position="top-right"></p-toast>



